# 工厂企业风险管控系统

一个基于 Vue 3 的完整工厂企业风险管控系统前端应用，无需后端和数据库支持。

## 系统特点

✅ **完全前端应用** - 不需要后端服务器或数据库  
✅ **数据本地存储** - 使用浏览器 localStorage 存储数据  
✅ **响应式设计** - 支持桌面端和移动端  
✅ **功能完整** - 涵盖风险管理、事件追踪、资产管理、安全审计等多个模块  
✅ **即插即用** - 开箱即用的示例数据  

## 功能模块

### 1. 仪表板 (Dashboard)
- 风险等级统计（高、中、低）
- 事件总数显示
- 风险分布饼图
- 事件趋势图表
- 近期事件列表
- 高风险项目显示
- 待维护资产显示

### 2. 风险管理 (Risk Management)
- 风险列表展示
- 按风险级别筛选
- 搜索功能
- 新增风险
- 编辑风险
- 删除风险
- 风险详情：名称、描述、类别、级别、概率、影响度、状态、责任人、部门、缓解措施

### 3. 事件追踪 (Incident Tracking)
- 事件列表管理
- 按状态筛选（处理中、已解决、已关闭）
- 事件搜索
- 新增事件报告
- 编辑事件
- 删除事件
- 事件详情：标题、描述、类型、严重程度、状态、报告人、位置、受影响人数、处理方案

### 4. 资产管理 (Asset Management)
- 资产清单管理
- 按类型筛选（机械设备、电气设备、安全设施）
- 资产搜索
- 新增资产
- 编辑资产
- 删除资产
- 资产详情：名称、类型、型号、位置、厂商、购置日期、状态、风险级别、维护信息

### 5. 安全审计 (Safety Audit)
- 审计记录管理
- 按审计类型筛选
- 审计搜索
- 新增审计记录
- 编辑审计记录
- 删除审计记录
- 审计详情：标题、类型、审计员、日期、评分、状态、发现问题

### 6. 报表分析 (Reports)
- 风险级别分布图
- 事件类型分布图
- 资产健康度图表
- 审计评分分布
- 风险评估矩阵
- 统计摘要数据
- 部门风险统计

### 7. 系统设置 (Settings)
- 基本信息设置（系统名称、公司名称、行业类型、联系信息）
- 风险配置（风险阈值、审批设置、自动升级）
- 事件配置（事件通知、保留天数）
- 审计配置（审计周期、评分线）
- 数据管理（导出、导入、重置）
- 系统信息查看

## 技术栈

- **前端框架**: Vue 3
- **状态管理**: Pinia
- **路由**: Vue Router
- **构建工具**: Vite
- **图表库**: Canvas 原生绘制
- **样式**: 原生 CSS + CSS 变量
- **数据存储**: Browser LocalStorage

## 安装和运行

### 前置要求
- Node.js 14+ 
- npm 6+

### 安装依赖
```bash
npm install
```

### 开发模式运行
```bash
npm run dev
```
应用会在 http://localhost:5173 打开

### 生产构建
```bash
npm run build
```
构建后的文件在 `dist` 目录

### 预览生产版本
```bash
npm run preview
```

## 文件结构

```
.
├── index.html              # HTML 入口
├── package.json            # 项目依赖
├── vite.config.js         # Vite 配置
├── src/
│   ├── main.js            # 应用入口
│   ├── App.vue            # 根组件
│   ├── style.css          # 全局样式
│   ├── router/
│   │   └── index.js       # 路由配置
│   ├── stores/
│   │   └── riskStore.js   # Pinia 状态管理
│   ├── layout/
│   │   └── Layout.vue     # 布局组件
│   └── views/
│       ├── Dashboard.vue      # 仪表板
│       ├── RiskManagement.vue # 风险管理
│       ├── IncidentTracking.vue # 事件追踪
│       ├── AssetManagement.vue  # 资产管理
│       ├── SafetyAudit.vue      # 安全审计
│       ├── Reports.vue         # 报表分析
│       └── Settings.vue        # 系统设置
└── dist/                  # 生产构建输出
```

## 数据存储

系统使用浏览器的 LocalStorage 存储所有数据：
- 所有数据在本地浏览器中保存
- 数据不会发送到任何服务器
- 清除浏览器缓存会导致数据丢失

## 导入导出功能

系统提供数据导出和导入功能：

### 导出数据
- 点击"系统设置"中的"导出系统数据"
- 会下载一个 JSON 文件，包含所有风险、事件、资产、审计和设置数据

### 导入数据
- 点击"系统设置"中的"导入系统数据"
- 选择之前导出的 JSON 文件
- 数据会自动导入到系统

## 示例数据

系统首次加载时会自动生成示例数据，包括：
- 5 条风险记录
- 3 条事件记录
- 3 条资产记录
- 2 条审计记录

可以在"系统设置"中点击"重置所有数据"恢复示例数据。

## 功能特性

### 搜索和筛选
- 所有列表都支持搜索和筛选功能
- 实时过滤显示结果

### 模态对话框
- 新增和编辑操作使用模态对话框
- 支持表单验证

### 图表展示
- 使用 Canvas 绘制各类图表
- 响应式图表自动适应容器大小

### 状态指示
- 使用彩色徽章显示不同状态
- 高、中、低风险使用不同颜色区分

### 批量操作
- 支持删除单个记录
- 支持导入导出所有数据

## 浏览器兼容性

支持所有现代浏览器：
- Chrome (推荐)
- Firefox
- Safari
- Edge

## 许可证

MIT

## 使用说明

### 基本操作流程

1. **首次使用**：系统会自动加载示例数据
2. **浏览仪表板**：查看系统整体状态
3. **管理风险**：在"风险管理"模块中添加、编辑或删除风险
4. **记录事件**：在"事件追踪"中记录发生的事故或问题
5. **管理资产**：维护企业资产清单和维护计划
6. **执行审计**：记录定期或专项审计结果
7. **查看报表**：在"报表分析"中查看统计数据和分析图表
8. **配置系统**：在"系统设置"中自定义系统参数

### 常见任务

#### 新增风险
1. 点击"风险管理"
2. 点击"+ 新增风险"按钮
3. 填写风险信息
4. 点击"保存"

#### 处理事件
1. 点击"事件追踪"
2. 点击"+ 新增事件"
3. 填写事件信息
4. 编辑事件时可更新状态和处理方案

#### 管理资产维护
1. 点击"资产管理"
2. 查看"下次维护"列表
3. 如果日期已过期，会以红色显示
4. 编辑资产更新维护日期

#### 查看系统报告
1. 点击"报表分析"
2. 查看各类图表和统计数据
3. 在"风险评估矩阵"中了解风险分类
4. 在"部门风险统计"中按部门查看风险分布

## 常见问题

### Q: 数据会被保存吗？
A: 是的，所有数据都会自动保存在浏览器的 LocalStorage 中。

### Q: 如何备份数据？
A: 在"系统设置"中点击"导出系统数据"，会下载一个 JSON 文件作为备份。

### Q: 如何还原备份？
A: 在"系统设置"中点击"导入系统数据"，选择之前导出的 JSON 文件。

### Q: 清除浏览器缓存后数据会丢失吗？
A: 是的，清除浏览器缓存会导致 LocalStorage 数据丢失。建议定期导出备份。

### Q: 支持多用户吗？
A: 当前版本是单用户应用。所有在同一浏览器中登录的用户共享数据。

### Q: 可以离线使用吗？
A: 是的，应用完全是前端应用，可以离线使用。数据存储在本地。

## 开发者指南

### 添加新的风险类型
编辑 `src/stores/riskStore.js` 中的 `initializeSampleData` 方法，添加新的风险记录。

### 自定义样式
修改 `src/style.css` 中的 CSS 变量：
```css
:root {
  --primary-color: #1890ff;
  --success-color: #52c41a;
  --warning-color: #faad14;
  --error-color: #f5222d;
  ...
}
```

### 添加新的页面
1. 在 `src/views/` 中创建新的 `.vue` 文件
2. 在 `src/router/index.js` 中添加路由
3. 在 `src/layout/Layout.vue` 中添加菜单项

### 扩展状态管理
在 `src/stores/riskStore.js` 中添加新的状态和方法。

## 支持

如有问题或建议，请联系系统管理员。

## 更新日志

### v1.0.0 (2024-01-01)
- 初始发布
- 包含7个主要模块
- 完整的风险管理功能
- 事件追踪系统
- 资产管理系统
- 安全审计功能
- 报表分析工具
- 系统设置模块
